<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sham Salong</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background-color: #111;
      color: white;
    }

    header {
      background-color: #c00;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
    }

    header img {
      height: 60px;
    }

    nav a {
      color: white;
      text-decoration: none;
      margin-left: 20px;
    }

    .container {
      padding: 30px;
    }

    .about {
      margin-top: 30px;
    }

    .booking, .auth {
      margin-top: 30px;
      background: #222;
      padding: 20px;
      border-radius: 10px;
    }

    input, button {
      padding: 10px;
      margin: 5px 0;
      width: 100%;
      max-width: 400px;
    }

    button {
      background-color: #c00;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <header>
    <img src="sham_logo_resized.png" alt="Sham Salong Logotyp" />
    <nav>
      <a href="#" onclick="toggleAuth()">Logga in / Registrera</a>
    </nav>
  </header>

  <div class="container">
    <section class="about">
      <h2>Om Oss</h2>
      <p>Välkommen till Sham Salong – din destination för professionell hårvård, skäggtrimning, färgning och mer. Vi erbjuder personlig service i en modern miljö där kundens nöjdhet är vårt främsta mål.</p>
    </section>

    <section class="auth" id="authSection" style="display:none;">
      <h3>Logga in eller registrera</h3>
      <input type="email" id="email" placeholder="E-post" />
      <input type="password" id="password" placeholder="Lösenord" />
      <button onclick="login()">Logga in</button>
      <button onclick="register()">Registrera</button>
    </section>

    <section class="booking">
      <h3>Boka Tid</h3>
      <input type="text" id="namn" placeholder="Ditt namn" />
      <input type="text" id="tjänst" placeholder="Tjänst (ex: Fade, Skägg, Klippning)" />
      <input type="datetime-local" id="tid" />
      <button onclick="bokaTid()">Boka</button>
    </section>
  </div>

  <!-- Firebase + funktioner -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCc2a7sx7nq-mH2R6IkWend_HUb06wgZ2A",
      authDomain: "shamsalong-6c54c.firebaseapp.com",
      projectId: "shamsalong-6c54c",
      storageBucket: "shamsalong-6c54c.firebasestorage.app",
      messagingSenderId: "1023072544720",
      appId: "1:1023072544720:web:968e31cc9350bc95803bd5"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    window.toggleAuth = function () {
      const section = document.getElementById("authSection");
      section.style.display = section.style.display === "none" ? "block" : "none";
    };

    window.register = async function () {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      try {
        await createUserWithEmailAndPassword(auth, email, password);
        alert("Registrering lyckades!");
      } catch (error) {
        alert("Fel: " + error.message);
      }
    };

    window.login = async function () {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      try {
        await signInWithEmailAndPassword(auth, email, password);
        alert("Inloggning lyckades!");
      } catch (error) {
        alert("Fel: " + error.message);
      }
    };

    window.bokaTid = async function () {
      const namn = document.getElementById("namn").value;
      const tjänst = document.getElementById("tjänst").value;
      const tid = document.getElementById("tid").value;
      try {
        await addDoc(collection(db, "bokningar"), {
          namn, tjänst, tid, bokad: new Date()
        });
        alert("Bokningen är genomförd!");
      } catch (error) {
        alert("Fel vid bokning: " + error.message);
      }
    };
  </script>
</body>
</html>
